# ST-Link V2 慢速配置（用于连接不稳定的情况）
# 使用 ST-Link 接口配置文件
source [find interface/stlink.cfg]
transport select hla_swd
source [find target/stm32f4x.cfg]

# 使用很慢的速度以提高稳定性
adapter speed 100

# 复位配置：尝试连接时复位（有助于解决 init mode failed 错误）
# 如果此配置无效，可以尝试：
#   reset_config none separate        - 软件复位
#   reset_config srst_only srst_nogate - 硬件复位（如果支持）
reset_config connect_assert_srst

# 注意：init 和 reset init 命令不应该在这里，它们会由 cortex-debug 扩展自动调用

